{"version":3,"sources":["./src/app/ver-mensaje/ver-mensaje.page.html","./src/Services/alumnos.service.ts","./src/app/ver-mensaje/ver-mensaje-routing.module.ts","./src/app/ver-mensaje/ver-mensaje.module.ts","./src/app/ver-mensaje/ver-mensaje.page.scss","./src/app/ver-mensaje/ver-mensaje.page.ts"],"names":[],"mappings":"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","file":"ver-mensaje-ver-mensaje-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"mensajes\\\" slot=\\\"start\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>\\n      Mensajes\\n    </ion-title>\\n    <ion-buttons slot=\\\"end\\\" color=\\\"danger\\\">\\n      <ion-button (click)=\\\"closeSession()\\\" color=\\\"danger\\\">\\n        <ion-icon name=\\\"exit-outline\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ng-container>\\n    <ion-card>\\n      <ion-card-header>\\n        <ion-card-title>{{fecha}}</ion-card-title>\\n      </ion-card-header>\\n\\n      <ion-card-content>\\n        <ion-textarea value=\\\"{{textMess}}\\\" rows=\\\"5\\\"></ion-textarea>\\n      </ion-card-content>\\n      <ion-item>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"sendMailP()\\\" *ngIf=\\\"compMailP\\\"><ion-icon name=\\\"mail-outline\\\"></ion-icon> Padre</ion-button>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"sendMailM()\\\" *ngIf=\\\"compMailM\\\"><ion-icon name=\\\"mail-outline\\\"></ion-icon> Madre</ion-button>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"sendMailA()\\\" *ngIf=\\\"compMailA\\\"><ion-icon name=\\\"mail-outline\\\"></ion-icon> Alumno</ion-button>\\n      </ion-item>\\n      <ion-item>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"sendWhatsP()\\\" color=\\\"success\\\" *ngIf=\\\"compTlfP\\\"><ion-icon name=\\\"logo-whatsapp\\\"></ion-icon> Padre</ion-button>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"sendWhatsM()\\\" color=\\\"success\\\" *ngIf=\\\"compTlfM\\\"><ion-icon name=\\\"logo-whatsapp\\\"></ion-icon> Madre</ion-button>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"sendWhatsA()\\\" color=\\\"success\\\" *ngIf=\\\"compTlfA\\\"><ion-icon name=\\\"logo-whatsapp\\\"></ion-icon> Alumno</ion-button>\\n      </ion-item>\\n      <ion-item>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"goToMensajes()\\\">Volver a Mensajes</ion-button>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"goToMensajesEnviados()\\\">Ir a Enviados</ion-button>\\n      </ion-item>\\n      <ion-item>\\n        <ion-button slot=\\\"end\\\" (click)=\\\"archivarMensaje()\\\" color=\\\"success\\\">Archivar</ion-button>\\n      </ion-item>\\n    </ion-card>\\n  </ng-container>\\n</ion-content>\\n\"","import { Injectable } from '@angular/core';\nimport { HttpClient} from '@angular/common/http';\nimport { Alumnos } from 'src/app/models/Alumnos.interface';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AlumnosService {\n  constructor(private http: HttpClient) { }\n\n  refillAlumnos(){\n    this.http.get('https://www.solvam.es/app/php/db_select_alumnos.php', {observe: 'body'})\n    .subscribe((res: Response) => {\n      localStorage.setItem(\"Alumnos\", JSON.stringify(res));\n    }, (err)=>{\n      console.log(\"Error!\");\n    });\n    \n  }\n\n  refillAlumnosCur(json){\n    this.http.post('https://www.solvam.es/app/php/db_select_alumnos_curso.php', JSON.stringify(json), {observe: 'body'})\n    .subscribe((res: Response) => {\n      localStorage.setItem(\"Alumnos\", JSON.stringify(res));\n    }, (err)=>{\n      console.log(\"Error!\");\n    });\n    \n  }\n\n  refillCurso(){\n    this.http.get('https://www.solvam.es/app/php/db_select_curso.php', {observe: 'body'})\n    .subscribe((res: Response) => {\n      localStorage.setItem(\"Cursos\", JSON.stringify(res));\n    }, (err)=>{\n      console.log(\"Error!\");\n    });\n    \n  }\n\n  deleteAlumno(idAlumno){\n    let jsonMat = {\n      Id: idAlumno\n    }\n    console.log(jsonMat);\n    this.http.post('https://www.solvam.es/app/php/db_delete_alumno.php', JSON.stringify(jsonMat), {observe: 'body'})\n    .subscribe((res: Response) => {\n    }, (err)=>{\n      console.log(err);\n      localStorage.setItem(\"Error\", JSON.stringify({msg : err.error.text}));\n    });\n    \n  }\n\n  clearStorageAlumnos(){\n    localStorage.removeItem(\"Alumnos\");\n  }\n\n  clearStorageCurso(){\n    localStorage.removeItem(\"Cursos\");\n  }\n\n  clearStorageErrors(){\n    localStorage.removeItem(\"Error\");\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { VerMensajePage } from './ver-mensaje.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: VerMensajePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class VerMensajePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { VerMensajePageRoutingModule } from './ver-mensaje-routing.module';\n\nimport { VerMensajePage } from './ver-mensaje.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    VerMensajePageRoutingModule\n  ],\n  declarations: [VerMensajePage]\n})\nexport class VerMensajePageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3Zlci1tZW5zYWplL3Zlci1tZW5zYWplLnBhZ2Uuc2NzcyJ9 */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { AlumnosService } from 'src/Services/alumnos.service';\nimport { EmailComposer } from '@ionic-native/email-composer/ngx';\nimport { MessagesService } from 'src/Services/messages.service';\nimport { AsignaturasService } from 'src/Services/asignaturas.service';\nimport { UsauriosService } from 'src/Services/usaurios.service';\nimport { ToastController, LoadingController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-ver-mensaje',\n  templateUrl: './ver-mensaje.page.html',\n  styleUrls: ['./ver-mensaje.page.scss'],\n})\nexport class VerMensajePage implements OnInit {\n  fecha: any;\n  textMess: any;\n  message: any;\n  alumnos: any;\n  alumno: any;\n\n\n  //flags\n  compTlfM: boolean = true;\n  compTlfP: boolean = true;\n  compTlfA: boolean = true;\n  compMailM: boolean = true;\n  compMailP: boolean = true;\n  compMailA: boolean = true;\n\n  constructor(private activeRoute: ActivatedRoute,\n    private aluService: AlumnosService,\n    private emailComposer: EmailComposer,\n    private router: Router,\n    private messService: MessagesService,\n    private toast: ToastController,\n    private loadingController: LoadingController\n  ) { }\n\n  ionViewWillEnter() {\n    this.message = JSON.parse(this.activeRoute.snapshot.paramMap.get('mess'));\n    this.fecha = this.message.fecha;\n    this.textMess = this.message.textoMensaje;\n    console.log(this.message);\n    this.aluService.refillAlumnos();\n    setTimeout(() => {\n      this.alumnos = JSON.parse(localStorage.getItem(\"Alumnos\"));\n      this.aluService.clearStorageAlumnos();\n      console.log(this.alumnos);\n      for (let a of this.alumnos) {\n        if (a.NIA === this.message.idAlumno) {\n          this.alumno = a;\n          break;\n        }\n      }\n      console.log(this.alumno);\n\n      if (this.alumno.CorreoA === \"\" || this.alumno.CorreoA === null) this.compMailA = false;\n      if (this.alumno.CorreoP === \"\" || this.alumno.CorreoP === null) this.compMailP = false;\n      if (this.alumno.CorreoM === \"\" || this.alumno.CorreoM === null) this.compMailM = false;\n      if (this.alumno.TelefonoA === \"\" || this.alumno.TelefonoA === null) this.compTlfA = false;\n      if (this.alumno.TelefonoP === \"\" || this.alumno.TelefonoP === null) this.compTlfP = false;\n      if (this.alumno.TelefonoM === \"\" || this.alumno.TelefonoM === null) this.compTlfM = false;\n    }, 500);\n  }\n\n  ngOnInit() {\n  }\n\n  sendMailP() {\n    this.emailComposer.addAlias('gmail', 'com.google.android.gm');\n    let email = {\n      app: 'gmail',\n      to: this.alumno.CorreoP,\n      cc: '',\n      bcc: [],\n      attachments: [],\n      subject: 'Faltas de asistencia - SOLVAM',\n      body: this.textMess,\n      isHtml: true\n    }\n    this.emailComposer.open(email);\n  }\n\n  sendMailM() {\n    this.emailComposer.addAlias('gmail', 'com.google.android.gm');\n    let email = {\n      app: 'gmail',\n      to: this.alumno.CorreoM,\n      cc: '',\n      bcc: [],\n      attachments: [],\n      subject: 'Faltas de asistencia - SOLVAM',\n      body: this.textMess,\n      isHtml: true\n    }\n    this.emailComposer.open(email);\n  }\n\n  sendMailA() {\n    this.emailComposer.addAlias('gmail', 'com.google.android.gm');\n    let email = {\n      app: 'gmail',\n      to: this.alumno.CorreoA,\n      cc: '',\n      bcc: [],\n      attachments: [],\n      subject: 'Faltas de asistencia - SOLVAM',\n      body: this.textMess,\n      isHtml: true\n    }\n    this.emailComposer.open(email);\n  }\n\n  sendWhatsP() {\n    //https://api.whatsapp.com/send?phone=34646849137&text=Mensaje%20de%20Prueba%20-%20Lorenzo.\n    window.open(\"https://api.whatsapp.com/send?phone=34\" + this.alumno.TelefonoP + \"&text=\" + this.message.textoMensaje);\n  }\n\n  sendWhatsM() {\n    window.open(\"https://api.whatsapp.com/send?phone=34\" + this.alumno.TelefonoM + \"&text=\" + this.message.textoMensaje);\n  }\n\n  sendWhatsA() {\n    window.open(\"https://api.whatsapp.com/send?phone=34\" + this.alumno.TelefonoA + \"&text=\" + this.message.textoMensaje);\n  }\n\n  archivarMensaje() {\n    this.messService.sendMessage({ idMess: this.message.MensajeId });\n    this.presentLoading3();\n  }\n\n  goToMensajesEnviados(){\n    this.router.navigateByUrl('/mensajes-enviados');\n  }\n\n  goToMensajes(){\n    this.router.navigateByUrl('/mensajes');\n  }\n\n  //Fin comprobaciones\n  async presentLoading3() {\n\n    const loading = await this.loadingController.create({\n      message: 'Archivando mensaje, por favor espere...',\n      duration: 2000\n    });\n    await loading.present();\n\n    const { role, data } = await loading.onDidDismiss();\n    console.log('Loading dismissed!');\n    this.showToast();\n  }\n\n  async showToast() {\n    let toast;\n\n    toast = await this.toast.create({\n      message: \"Mensaje archivado en mensajes enviados\",\n      duration: 3000,\n      position: 'bottom',\n      color: 'success'\n    });\n\n\n    toast.present();\n  }\n\n  closeSession() {\n    this.router.navigateByUrl(\"/login\");\n    sessionStorage.removeItem(\"User\");\n  }\n}\n"],"sourceRoot":"webpack:///"}